<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- Garantir que o Font Awesome seja carregado corretamente -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <link rel="stylesheet" href="./resources/ol.css">
    <link rel="stylesheet" href="./resources/ol-layerswitcher.css">
    <link rel="stylesheet" href="./resources/qgis2web.css">
    <link rel="stylesheet" href="./styles/css/index.css">

    <title>SIG 2024 ~ Gloria</title>
</head>

<body>
    <header>
        <h3>Análise Espacial da ODS 11: Mapas de Desenvolvimento Sustentável (Curitiba-PR)</h3>
        <h4>Sistema de Informações Geográficas (SIG) 2024</h4>
    </header>

    <div id="map">
        <div id="popup" class="ol-popup">
            <a href="#" id="popup-closer" class="ol-popup-closer"></a>
            <div id="popup-content"></div>
        </div>
    </div>

    <!-- Ícone de camadas -->
    <button id="menu-toggle"><i class="fas fa-layer-group"></i></button>

    <div id="feature-box" style="margin-top: 50px; display: none;"> <!-- Menu inicialmente fechado -->
        <h3>Camadas</h3>
        <hr>
        <h4 style="padding-bottom: 5px;">Mapa 01<br> Bairros Saudáveis: Localização de Parques, Ciclovias e Transporte
            Público</h4>
        <label><input type="checkbox" class="layer-toggle" data-layer="6" checked> Terminal de ônibus</label>
        <label><input type="checkbox" class="layer-toggle" data-layer="5" checked> Zonas de influência dos terminais de
            ônibus (Diagrama Voronoi)</label>
        <label><input type="checkbox" class="layer-toggle" data-layer="4" checked> Ciclovia</label>
        <label><input type="checkbox" class="layer-toggle" data-layer="3" checked> Parques e Bosques</label>
        <label><input type="checkbox" class="layer-toggle" data-layer="2" checked> Praças e Jardinetes</label>
        <label><input type="checkbox" class="layer-toggle" data-layer="1" checked> Bairros de Curitiba</label>
        <button id="toggle-all-layers">Ativar/Desativar Todas as Camadas</button>
        <button id="view-pdf">
            <a href="./pdf/Mapa01-ODS11-BairrosSaudaveis-GloriaDeitos.pdf" target="_blank"
                style="text-decoration: none; color: inherit;">
                Visualizar PDF
            </a>
        </button>
        <button id="download-pdf">
            <a href="./pdf/Mapa01-ODS11-BairrosSaudaveis-GloriaDeitos.pdf" download
                style="text-decoration: none; color: inherit;">
                Baixar PDF
            </a>
        </button>
        <hr>
        <h4 style="padding-bottom: 5px;">Mapa 02<br> Mapa de Risco: Áreas de Ocupação Irregular com Potencial de
            Alagamento</h4>
        <label><input type="checkbox" class="layer-toggle" data-layer="9"> Áreas inundáveis</label>
        <label><input type="checkbox" class="layer-toggle" data-layer="7"> Áreas de Ocupação Irregular</label>
        <label><input type="checkbox" class="layer-toggle" data-layer="8"> Rios</label>
        <label><input type="checkbox" class="layer-toggle" data-layer="1"> Bairros de Curitiba</label>
        <button id="toggle-all-layers">Ativar/Desativar Todas as Camadas</button>
        <button id="view-pdf">
            <a href="./pdf/Mapa02-ODS11-MapaRisco-GloriaDeitos.pdf" target="_blank"
                style="text-decoration: none; color: inherit;">
                Visualizar PDF
            </a>
        </button>
        <button id="download-pdf">
            <a href="./pdf/Mapa02-ODS11-MapaRisco-GloriaDeitos.pdf" download
                style="text-decoration: none; color: inherit;">
                Baixar PDF
            </a>
        </button>
        <hr>
        <h4 style="padding-bottom: 5px;">Mapa 03<br> Cobertura Verde: Percentual de Parques e Bosques nos Bairros de
            Curitiba</h4>
            <label><input type="checkbox" class="layer-toggle" data-layer="10"> Porcentagem de parques e bosques</label>
        <button id="view-pdf">
            <a href="./pdf/Mapa03-ODS11-CoberturaVerde-GloriaDeitos.pdf" target="_blank"
                style="text-decoration: none; color: inherit;">
                Visualizar PDF
            </a>
        </button>
        <button id="download-pdf">
            <a href="./pdf/Mapa03-ODS11-CoberturaVerde-GloriaDeitos.pdf" download
                style="text-decoration: none; color: inherit;">
                Baixar PDF
            </a>
        </button>
    </div>

    <div id="legend-container">
        <h3>Legenda</h3>
        <ul style="list-style: none; padding: 0; font-size: 14px; color: #333;">
            <li>
                <img src="./styles/legend/terminal.png" alt="Terminal de ônibus" class="legenda">
                Terminal de ônibus
            </li>
            <li>
                <img src="./styles/legend/zona-influencia.png" alt="Zonas de influência dos terminais de ônibus"
                    class="legenda">
                Zonas de influência dos terminais de ônibus
            </li>
            <li>
                <img src="./styles/legend/ciclovia.png" alt="Ciclovia" class="legenda">
                Ciclovia
            </li>
            <li>
                <img src="./styles/legend/parque-bosque.png" alt="Parques e Bosques" class="legenda">
                Parques e Bosques
            </li>
            <li>
                <img src="./styles/legend/praca-jardinete.png" alt="Praças e Jardinetes" class="legenda">
                Praças e Jardinetes
            </li>
            <li>
                <img src="./styles/legend/divisa-bairro.png" alt="Divisa de Bairros" class="legenda">
                Divisa de Bairros
            </li>
        </ul>
    </div>

    <footer>
        <p>&copy; 2024 Glória Maria Deitos Gomes da Silva.</p>
    </footer>

    <script src="resources/qgis2web_expressions.js"></script>
    <script src="./resources/functions.js"></script>
    <script src="./resources/ol.js"></script>
    <script src="./resources/ol-layerswitcher.js"></script>

    <!-- MAPA01 -->
    <script src="layers/DIVISA_DE_BAIRROS_1.js"></script> <!-- Camada 1: Bairros de Curitiba -->
    <script src="layers/PRACAS_E_JARDINETES_2.js"></script> <!-- Camada 2: Praças e Jardinetes -->
    <script src="layers/PARQUES_E_BOSQUES_3.js"></script> <!-- Camada 3: Parques e Bosques -->
    <script src="layers/CICLOVIA_OFICIAL_4.js"></script> <!-- Camada 4: Ciclovia -->
    <script src="layers/terminalvoronoi_5.js"></script> <!-- Camada 5: Zonas de influência dos terminais de ônibus (Diagrama Voronoi) -->
    <script src="layers/TERMINAL_DE_TRANSPORTE_6.js"></script> <!-- Camada 6: Terminal de ônibus -->
    
    <script src="styles/DIVISA_DE_BAIRROS_1_style.js"></script> <!-- Estilo para a Camada 1 -->
    <script src="styles/PRACAS_E_JARDINETES_2_style.js"></script> <!-- Estilo para a Camada 2 -->
    <script src="styles/PARQUES_E_BOSQUES_3_style.js"></script> <!-- Estilo para a Camada 3 -->
    <script src="styles/CICLOVIA_OFICIAL_4_style.js"></script> <!-- Estilo para a Camada 4 -->
    <script src="styles/terminalvoronoi_5_style.js"></script> <!-- Estilo para a Camada 5 -->
    <script src="styles/TERMINAL_DE_TRANSPORTE_6_style.js"></script> <!-- Estilo para a Camada 6 -->

    <!-- MAPA02 -->
    <script src="layers/OCUPACAO_IRREGULAR_2.js"></script> <!-- Camada 7: Áreas de Ocupação Irregular com Potencial de Alagamento -->
    <script src="layers/HIDRO_RIOS_LN_3.js"></script> <!-- Camada 8: Rios -->
    <script src="layers/Interseo_4.js"></script> <!-- Camada 9: Interseções (possível área de estudo) -->

    <script src="styles/OCUPACAO_IRREGULAR_2_style.js"></script> <!-- Estilo para a Camada 7 -->
    <script src="styles/HIDRO_RIOS_LN_3_style.js"></script> <!-- Estilo para a Camada 8 -->
    <script src="styles/Interseo_4_style.js"></script> <!-- Estilo para a Camada 9 -->

    <!-- MAPA03 -->
    <script src="layers/PARQUEPORCENTAGEM_2.js"></script> <!-- Camada 10: Porcentagem parques e bosques -->
    <script src="styles/PARQUEPORCENTAGEM_2_style.js"></script> <!-- Estilo para a Camada 10 -->

    <!-- Precisa estar no final: -->
    <script src="./layers/layers.js" type="text/javascript"></script>
    <script src="./resources/Autolinker.min.js"></script>
    <script src="./resources/qgis2web.js"></script>

    <script>
        document.querySelectorAll('.layer-toggle').forEach(toggle => {
            toggle.addEventListener('change', function () {
                const layerIndex = parseInt(this.dataset.layer, 10);
                map.getLayers().item(layerIndex).setVisible(this.checked);
            });
        });

        document.getElementById('toggle-all-layers').addEventListener('click', () => {
            const toggles = document.querySelectorAll('.layer-toggle');
            const allChecked = Array.from(toggles).every(toggle => toggle.checked);
            toggles.forEach(toggle => {
                toggle.checked = !allChecked;
                const layerIndex = parseInt(toggle.dataset.layer, 10);
                map.getLayers().item(layerIndex).setVisible(!allChecked);
            });
        });

        const menuToggle = document.getElementById('menu-toggle');
        const featureBox = document.getElementById('feature-box');

        menuToggle.addEventListener('click', () => {
            if (featureBox.style.display === 'none') {
                featureBox.style.display = 'block';
                menuToggle.innerHTML = '<i class="fas fa-times"></i>'; // Ícone de fechar
            } else {
                featureBox.style.display = 'none';
                menuToggle.innerHTML = '<i class="fas fa-layer-group"></i>'; // Ícone de camadas
            }
        });

        // Inicialmente, o menu está fechado
        featureBox.style.display = 'none';
    </script>
</body>

</html>